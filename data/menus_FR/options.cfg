bindactions = [Avancer Reculer Gauche Droite Sauter Tirer Recharger Accroupir Zoomer Scores Grenades CaC Aptitude_1 Aptitude_2 Aptitude_3 Tchat Arme_suivante Arme_précédente Screenshot  Ajouter_bot Retirer_bot]

newgui options [
	guistayopen [
		guititle "OPTIONS"
		guibar
		guilist [
			guiradio "Affichage" option 1
			guibar
			guiradio "Jouabilité" option 2
			guibar
			guiradio "Commandes" option 3
			guibar
			guiradio "Son" option 4
			guibar
			guiradio "Console" option 5
		]
		guibar
		if (= $option 1) [
			if (= $light 0) [
				guilist [
					guilist [
						guititle "QUALITÉ GRAPHIQUE"
						guibar
						guilist [
							guilist [
								guitext "Qualité de l'éclairage"
								guitext "Qualité des modèles 3D"
								guitext "Qualité des particules"
								guitext "Qualité de l'eau"
								guitext "Qualité des décorations"
								guitext "Qualité des shaders"
								guitext "Anti-crélénage"
								guistrut 1
								guicheckbox "Plein écran"	fullscreen
								guicheckbox "Synchronisation verticale  "        vsync 1 0
							]
							guibar
							guilist [
								guilist [ // QUALITEE ECLAIRAGE
									if (= $smfilter 0) [guiimage "packages/icons/arrow_bw_g.jpg" "" 0.5 0]
									if (= $smfilter 2) [guiimage "packages/icons/arrow_bw.jpg" [smfilter 0 ; ombrejoueur 0 ; csmsplits 1 ; smsize 10 ; smminradius 10000 ; smnoshadow 1 ; dynlightdist 200] 0.5 0]
									if (= $smfilter 3) [guiimage "packages/icons/arrow_bw.jpg" [smfilter 2 ; ombrejoueur 0 ; csmsplits 2 ; smsize 12 ; smminradius 1000 ; smnoshadow 1 ; dynlightdist 500] 0.5 0]

									guilist [
										guilist [guistrut 9]
										if (= $smfilter 0) [guicentertext "^f0Basse"]
										if (= $smfilter 2) [guicentertext "^f2Moyenne"]
										if (= $smfilter 3) [guicentertext "^f3Haute"]
									]

									if (= $smfilter 0) [guiimage "packages/icons/arrow_fw.jpg" [smfilter 2 ; ombrejoueur 0 ; csmsplits 2 ; smsize 12 ; smminradius 1000 ; smnoshadow 1 ; dynlightdist 500] 0.5 0]
									if (= $smfilter 2) [guiimage "packages/icons/arrow_fw.jpg" [smfilter 3 ; ombrejoueur 1 ; csmsplits 3 ; smsize 16 ; smminradius 100 ; smnoshadow 0 ; dynlightdist 1000] 0.5 0]
									if (= $smfilter 3) [guiimage "packages/icons/arrow_fw_g.jpg" "" 0.5 0]	
									guitstrut 1
								]
						
								guilist [ // QUALITE 3D
									if (= $maxmodelradiusdistance 35) [guiimage "packages/icons/arrow_bw_g.jpg" "" 0.5 0]
									if (= $maxmodelradiusdistance 80) [guiimage "packages/icons/arrow_bw.jpg" [maxmodelradiusdistance 35 ; distancemodelesjoueurs 300] 0.5 0]
									if (= $maxmodelradiusdistance 130) [guiimage "packages/icons/arrow_bw.jpg" [maxmodelradiusdistance 80 ; distancemodelesjoueurs 750] 0.5 0]

									guilist [
										guilist [guistrut 9]
										if (= $maxmodelradiusdistance 35) [guicentertext "^f0Basse"]
										if (= $maxmodelradiusdistance 80) [guicentertext "^f2Moyenne"]
										if (= $maxmodelradiusdistance 130) [guicentertext "^f3Haute"]
									]

									if (= $maxmodelradiusdistance 35) [guiimage "packages/icons/arrow_fw.jpg" [maxmodelradiusdistance 80 ; distancemodelesjoueurs 750] 0.5 0]
									if (= $maxmodelradiusdistance 80) [guiimage "packages/icons/arrow_fw.jpg" [maxmodelradiusdistance 130 ; distancemodelesjoueurs 1500] 0.5 0]
									if (= $maxmodelradiusdistance 130) [guiimage "packages/icons/arrow_fw_g.jpg" "" 0.5 0]
									guitstrut 1								
								]
						
								guilist [ // QUALITE PARTICULES
									if (= $lodparticules 0) [guiimage "packages/icons/arrow_bw_g.jpg" "" 0.5 0]
									if (= $lodparticules 1) [guiimage "packages/icons/arrow_bw.jpg" [lodparticules 0 ; maxparticles 250 ; softparticles 0 ; maxparticledistance 256] 0.5 0]
									if (= $lodparticules 2) [guiimage "packages/icons/arrow_bw.jpg" [lodparticules 1 ; maxparticles 3000 ; softparticles 1 ; maxparticledistance 1024] 0.5 0]

									guilist [
										guilist [guistrut 9]
										if (= $lodparticules 0) [guicentertext "^f0Basse"]
										if (= $lodparticules 1) [guicentertext "^f2Moyenne"]
										if (= $lodparticules 2) [guicentertext "^f3Haute"]
									]

									if (= $lodparticules 0) [guiimage "packages/icons/arrow_fw.jpg" [lodparticules 1 ; maxparticles 3000 ; softparticles 1 ; maxparticledistance 1024] 0.5 0]
									if (= $lodparticules 1) [guiimage "packages/icons/arrow_fw.jpg" [lodparticules 2 ; maxparticles 15000 ; softparticles 1 ; maxparticledistance 4096] 0.5 0]
									if (= $lodparticules 2) [guiimage "packages/icons/arrow_fw_g.jpg" "" 0.5 0]	
									guitstrut 1
								]
						
								guilist [ // QUALITE EAU
									if (= $lodeau 1) [guiimage "packages/icons/arrow_bw_g.jpg" "" 0.5 0]
									if (= $lodeau 2) [guiimage "packages/icons/arrow_bw.jpg" [lodeau 1 ; waterreflect 0 ; caustics 0 ; vertwater 0] 0.5 0]
									if (= $lodeau 3) [guiimage "packages/icons/arrow_bw.jpg" [lodeau 2 ; waterreflect 0 ; caustics 1 ; vertwater 1] 0.5 0]

									guilist [
										guilist [guistrut 9]
										if (= $lodeau 1) [guicentertext "^f0Basse"]
										if (= $lodeau 2) [guicentertext "^f2Moyenne"]
										if (= $lodeau 3) [guicentertext "^f3Haute"]
									]

									if (= $lodeau 1) [guiimage "packages/icons/arrow_fw.jpg" [lodeau 2 ; waterreflect 0 ; caustics 1 ; vertwater 1] 0.5 0]
									if (= $lodeau 2) [guiimage "packages/icons/arrow_fw.jpg" [lodeau 3 ; waterreflect 1 ; caustics 1 ; vertwater 1] 0.5 0]
									if (= $lodeau 3) [guiimage "packages/icons/arrow_fw_g.jpg" "" 0.5 0]	
									guitstrut 1
								]
						
								guilist [ // QUALITE DECO
									if (= $grassstep 4) [guiimage "packages/icons/arrow_bw_g.jpg" "" 0.5 0]
									if (= $grassstep 3) [guiimage "packages/icons/arrow_bw.jpg" [grassdist 64 ; grassstep 4 ; decalfade 1000 ; maxdecaltris 1024] 0.5 0]
									if (= $grassstep 2) [guiimage "packages/icons/arrow_bw.jpg" [grassdist 256 ; grassstep 3 ; decalfade 10000 ; maxdecaltris 4096] 0.5 0]

									guilist [
										guilist [guistrut 9]
										if (= $grassstep 4) [guicentertext "^f0Basse"]
										if (= $grassstep 3) [guicentertext "^f2Moyenne"]
										if (= $grassstep 2) [guicentertext "^f3Haute"]
									]

									if (= $grassstep 4) [guiimage "packages/icons/arrow_fw.jpg" [grassdist 256 ; grassstep 3 ; decalfade 10000 ; maxdecaltris 4096] 0.5 0]
									if (= $grassstep 3) [guiimage "packages/icons/arrow_fw.jpg" [grassdist 512 ; grassstep 2 ; decalfade 60000 ; maxdecaltris 20000] 0.5 0]
									if (= $grassstep 2) [guiimage "packages/icons/arrow_fw_g.jpg" "" 0.5 0]	
									guitstrut 1
								]
						
								guilist [ // QUALITE SHADERS
									if (= $aotaps 3) [guiimage "packages/icons/arrow_bw_g.jpg" "" 0.5 0]
									if (= $aotaps 6) [guiimage "packages/icons/arrow_bw.jpg" [ao 0 ; aotaps 3 ; hdr 0 ; gi 0 ; rhtaps 16] 0.5 0]
									if (= $aotaps 12) [guiimage "packages/icons/arrow_bw.jpg" [ao 1 ; aotaps 6 ; hdr 1 ; gi 1 ; rhtaps 16] 0.5 0]

									guilist [
										guilist [guistrut 9]
										if (= $aotaps 3) [guicentertext "^f0Basse"]
										if (= $aotaps 6) [guicentertext "^f2Moyenne"]
										if (= $aotaps 12) [guicentertext "^f3Haute"]
									]

									if (= $aotaps 3) [guiimage "packages/icons/arrow_fw.jpg" [ao 1 ; aotaps 6 ; hdr 1 ; gi 1 ; rhtaps 16] 0.5 0]
									if (= $aotaps 6) [guiimage "packages/icons/arrow_fw.jpg" [ao 1 ; aotaps 12 ; hdr 1 ; gi 1 ; rhtaps 32] 0.5 0]
									if (= $aotaps 12) [guiimage "packages/icons/arrow_fw_g.jpg" "" 0.5 0]	
									guitstrut 1
								]
						
								guilist [ // ANTICRELENAGE
									if (= $fxaaquality 0) [guiimage "packages/icons/arrow_bw_g.jpg" "" 0.5 0]
									if (= $fxaaquality 1) [guiimage "packages/icons/arrow_bw.jpg" [tqaa 0 ; smaaquality 0 ; smaacoloredge 0 ; fxaaquality 0] 0.5 0]
									if (= $fxaaquality 2) [guiimage "packages/icons/arrow_bw.jpg" [tqaa 1 ; smaaquality 0 ; smaacoloredge 0 ; fxaaquality 1] 0.5 0]
									if (= $fxaaquality 3) [guiimage "packages/icons/arrow_bw.jpg" [tqaa 1 ; smaaquality 1 ; smaacoloredge 0 ; fxaaquality 2] 0.5 0]

									guilist [
										guilist [guistrut 9]
										if (= $fxaaquality 0) [guicentertext "^f4Désactivé"]
										if (= $fxaaquality 1) [guicentertext "^f0Bas"]
										if (= $fxaaquality 2) [guicentertext "^f2Moyen"]
										if (= $fxaaquality 3) [guicentertext "^f3Haut"]
									]
									
									if (= $fxaaquality 0) [guiimage "packages/icons/arrow_fw.jpg" [tqaa 1 ; smaaquality 0 ; smaacoloredge 0 ; fxaaquality 1] 0.5 0]
									if (= $fxaaquality 1) [guiimage "packages/icons/arrow_fw.jpg" [tqaa 1 ; smaaquality 1 ; smaacoloredge 0 ; fxaaquality 2] 0.5 0]
									if (= $fxaaquality 2) [guiimage "packages/icons/arrow_fw.jpg" [tqaa 1 ; smaaquality 3 ; smaacoloredge 1 ; fxaaquality 3] 0.5 0]
									if (= $fxaaquality 3) [guiimage "packages/icons/arrow_fw_g.jpg" "" 0.5 0]
									guitstrut 1
								]
							]
						]
					]
					guibar
					guilist [
						guititle "RÉSOLUTION"
						guibar
						guilist [
							if (= $typeresolution 0) [guiimage "packages/icons/arrow_bw_g.jpg" "" 0.5 0]
							if (= $typeresolution 1) [guiimage "packages/icons/arrow_bw.jpg" [typeresolution 0] 0.5 0]
							if (= $typeresolution 2) [guiimage "packages/icons/arrow_bw.jpg" [typeresolution 1] 0.5 0]
							if (= $typeresolution 3) [guiimage "packages/icons/arrow_bw.jpg" [typeresolution 2] 0.5 0]
							if (= $typeresolution 4) [guiimage "packages/icons/arrow_bw.jpg" [typeresolution 3] 0.5 0]

							guilist [
								guilist [guistrut 9]
								if (= $typeresolution 0) [guicentertext "4:3"]
								if (= $typeresolution 1) [guicentertext "16:10"]
								if (= $typeresolution 2) [guicentertext "16:9"]
								if (= $typeresolution 3) [guicentertext "5:4"]
								if (= $typeresolution 4) [guicentertext "5:3"]
							]
							
							if (= $typeresolution 0) [guiimage "packages/icons/arrow_fw.jpg" [typeresolution 1] 0.5 0]
							if (= $typeresolution 1) [guiimage "packages/icons/arrow_fw.jpg" [typeresolution 2] 0.5 0]
							if (= $typeresolution 2) [guiimage "packages/icons/arrow_fw.jpg" [typeresolution 3] 0.5 0]
							if (= $typeresolution 3) [guiimage "packages/icons/arrow_fw.jpg" [typeresolution 4] 0.5 0]
							if (= $typeresolution 4) [guiimage "packages/icons/arrow_fw_g.jpg" "" 0.5 0]
						]
						if (= $typeresolution 0) [
							@@@@(resbutton 1024 768)
							@@@@(resbutton 1152 864)
							@@@@(resbutton 1280 960)
							@@@@(resbutton 1400 1050)
							@@@@(resbutton 1600 1200)
							@@@@(resbutton 1792 1344)
							@@@@(resbutton 1856 1392)
							@@@@(resbutton 1920 1440)
							@@@@(resbutton 2048 1536)
						]
						if (= $typeresolution 1) [
							@@@@(resbutton 1024 640)
							@@@@(resbutton 1280 800)
							@@@@(resbutton 1440 900)
							@@@@(resbutton 1600 1000)
							@@@@(resbutton 1680 1050)
							@@@@(resbutton 1920 1200)
							@@@@(resbutton 2048 1280)
							@@@@(resbutton 2560 1600)
						]
						if (= $typeresolution 2) [
							@@@@(resbutton 1024 600)
							@@@@(resbutton 1280 720)
							@@@@(resbutton 1366 768)
							@@@@(resbutton 1600 900)
							@@@@(resbutton 1920 1080)
							@@@@(resbutton 2048 1152)
						]
						if (= $typeresolution 3) [
							@@@@(resbutton 1280 1024)
							@@@@(resbutton 1600 1280)
							@@@@(resbutton 2560 2048)
						]
						if (= $typeresolution 4) [
							@@@@(resbutton 800 480)
							@@@@(resbutton 1280 768)
						]
					]
				]
				guilist [
					guilist [
						guilist [
							guistrut 24.08
						]
						guitext "Luminosité"
					]
					guibar
					guilist [
						guilist [
							guistrut 27
						]
						guislider gamma
					]
				]
			]
			if (= $light 1) [
				guilist [
					guilist [
						guitext "Qualité de l'eau"
						guitext "Qualité des ombres"
						guitext "Qualité des particules"
						guitext "Qualité des décorations"
						guitext "Qualité des modèles"
						guicheckbox "Brillance" glare
						guicheckbox "Anti-crélénage" aa

					]
					guibar
					guilist [
						guilist [
							guiradio "Basse"  lodeau 1 [waterreflect 0 ;  waterfallrefract 0; caustics 0 ; vertwater 0]
							guibar 
							guiradio "Moyenne" lodeau 2 [waterreflect 0 ; waterfallrefract 0 ; caustics 1 ; vertwater 1]
							guibar 
							guiradio "Haute" lodeau 3 [waterreflect 1 ;   waterfallrefract 1 ; caustics 1 ; vertwater 1]
						]
						guilist [
							guiradio "Basse" shadowmapsize 8 [blurshadowmap 1]
							guibar
							guiradio "Moyenne" shadowmapsize 9 [blurshadowmap 1]
							guibar
							guiradio "Haute" shadowmapsize 10 [blurshadowmap 2]
						]
						guilist [
							guiradio "Basse"  lodparticules 0 [maxparticles 250 ; maxparticledistance 256]
							guibar 
							guiradio "Moyenne" lodparticules 1 [maxparticles 3000 ; maxparticledistance 1024]
							guibar 
							guiradio "Haute" lodparticules 2 [maxparticles 15000 ; maxparticledistance 4096]
						]
						guilist [
							guiradio "Basse"  grassdist 64 [decalfade 1000 ; maxdecaltris 128]
							guibar 
							guiradio "Moyenne" grassdist 256 [decalfade 60000 ; maxdecaltris 1024]
							guibar 
							guiradio "Haute" grassdist 512 [decalfade 300000 ; maxdecaltris 4096]
						]
						guilist [
							guiradio "Basse" lodmodeles 1 [maxmodelradiusdistance 35 ; lightsmodels 0 ; envmapmodels 0 ; glowmodels 0 ; bumpmodels 0 ; matskel 1]
							guibar 
							guiradio "Moyenne" lodmodeles 2 [maxmodelradiusdistance 80 ; lightsmodels 1 ; envmapmodels 1 : glowmodels 0 ; bumpmodels 0 ; matskel 0]
							guibar 
							guiradio "Haute" lodmodeles 3 [maxmodelradiusdistance 130 ; lightmodels 1 ; envmapmodels 1 : glowmodels 1 ; bumpmodels 1 ; matskel 0]
						]
					if $glare [
						glarepreset = 0
						if (= $glarescale 1) [
							if (= $blurglare 4) [glarepreset = 1]
							if (= $blurglare 7) [glarepreset = 3]
						]
						if (= $glarescale 2) [
							if (= $blurglare 3) [glarepreset = 2]
							if (= $blurglare 7) [glarepreset = 4]
						]
						guilist [
							guiradio "Légère" glarepreset 1 [blurglare 4; glarescale 1]
							guibar
							guiradio "Moyenne" glarepreset 2 [blurglare 3; glarescale 2]  
							guibar
							guiradio "Forte" glarepreset 4 [blurglare 7; glarescale 2]
						] [ guitext "Option désactivée" ]
					]
					if $aa [
						guilist [
							guiradio "Bas" fsaa 2
							guistrut 1.67
							guibar 
							guiradio "Moyen" fsaa 4
							guistrut 1.85
							guibar 
							guiradio "Haut" fsaa 8
						]
					] [ guitext "Option désactivée" ]
					]
				]
				guilist [
					guilist [
						guilist [
							guistrut 20.85
						]
						guitext "Gamma"
					]
					guibar
					guilist [
						guilist [
							guistrut 25
						]
						guislider gamma
					]
				]
				guicheckbox "Plein écran"	fullscreen
				guibutton "Résolution de l'affichage" "showgui resolution"
				guicheckbox "Synchronisation verticale"        vsync 1 0
				guibutton "Restaurer la configuration" "exec restore.cfg"
			]
		]
		if (= $option 2) [
			guilist [
				guitext "Langue"
				guibar 
				guiradio "Francais" langage 0
				guibar 
				guiradio "English" langage 1
			]
			guistrut 0.1
			guilist [
				guilist [
					guitext "Sensibilité de la souris : "
					guitext "Champ visuel :"
					guitext "Taille du viseur :"
				]
				guibar
				guilist [
					guilist [
						guistrut 30
					]
				guislider sensitivity 1 10
				guislider fov
				guislider crosshairsize
				]
			]
			guicheckbox "Inverser haut/bas de la souris."      invmouse
			guicheckbox "Toujours utiliser les couleurs d'ennemis" teamskins
			guicheckbox "Afficher les aliés sur le radar" radarteammates 1
			guicheckbox "Afficher le sang"   blood
			guicheckbox "Afficher les dommages" afficherdommages
			guicheckbox "Afficher les pseudals" afficherpseudals
			guicheckbox "Afficher les règles" showrules 1
			guicheckbox "Afficher IPS" showfps
		]
		if (= $option 3) [
			guilistsplit n 2 $bindactions [
				guilist [
					guitext (tabify (concatword $n ": ") 4)
					[newbinds@i] = (searchbinds $n)
					guikeyfield [newbinds@i] -9 [
						oldbinds = (searchbinds [@@n])
						looplist j $oldbinds [bind $j ""]
						looplist j $[newbinds@@i] [bind $j [@@@n]]
					]
				]
			] [guibar]
			if (= $light 0) [guibutton "Remettre tout par défaut" "exec defaults.cfg"] [guibutton "Remettre tout par défaut" "exec defaults_light.cfg"]
		]
		if (= $option 4) [
			guilist [
				guilist [
					guitext "Volume des bruitages"
					guitext "Volume des musiques"
					guitext "Nombre max de sons lus simultanément"
					guitext "Fréquence du son"
					guitext "Taille de la mémoire tampon"
				]
				guibar
				guilist [
					guilist [
						guistrut 30
					]
				guislider soundvol
				guislider musicvol
				guislider soundchans 20 500
				guilistslider soundfreq "11025 22050 44100"
				guislider soundbufferlen
				]
			]
			guicheckbox "Synchroniser postion avec Mumble" mumble
		]
		if (= $option 5) [
			guicheckbox "Console du tchat :"  miniconfilter 0x300 0
			guitext "Taille de la console rapide (en lignes) :"
			guislider consize
			guitext "Filtres des messages :"
			guilist [
				guilist [
					guibitfield "Messages d'information" confilter 0x01
					guibitfield "Messages d'alerte" confilter 0x02
					guibitfield "Messages d'erreurs" confilter 0x04
					guibitfield "Messages d'initialisation" confilter 0x10
					guibitfield "Messages de script" confilter 0x20
				]
				guibar
					guilist [
					guibitfield "Messages du tchat" confilter 0x100
					guibitfield "Messages du tchat d'équipe" confilter 0x200
					guibitfield "Messages d'événénments du jeu" confilter 0x400
					guibitfield "Messages de ses frags" confilter 0x800
					guibitfield "Messages des autres frags" confilter 0x1000
					guibitfield "Messages des frags d'équipe" confilter 0x2000
				]
			]
			guitext "Taille de la console complète (En % de l'écran) :"
			guislider fullconsize
			guitext "Filtres des messages :"
			guilist [
				guilist [
					guibitfield "Messages d'information" fullconfilter 0x01
					guibitfield "Messages d'alerte" fullconfilter 0x02
					guibitfield "Messages d'erreurs" fullconfilter 0x04
					guibitfield "Messages d'initialisation" fullconfilter 0x10
					guibitfield "Messages de script" fullconfilter 0x20
				]
				guibar
				guilist [
					guibitfield "Messages du tchat" fullconfilter 0x100
					guibitfield "Messages du tchat d'équipe" fullconfilter 0x200
					guibitfield "Messages d'événénments du jeu" fullconfilter 0x400
					guibitfield "Messages de ses frags" fullconfilter 0x800
					guibitfield "Messages des autres frags" fullconfilter 0x1000
					guibitfield "Messages des frags d'équipe" confilter 0x2000
				]
			]
		]
	]
] 0

newgui optionsrapides [
	guititle "OPTIONS RAPIDES"
	guibar
	guilist [
		guitext "Qualité des graphismes"
		guibar
		guiradio "Minimum" graphismes 0 [setlowlod]
		guibar
		guiradio "Moyenne" graphismes 1 [setmidlod]
		guibar
		guiradio "Maximum" graphismes 2 [sethilod]
	]
	guistrut 1
	guilist [guicheckbox "Affichage tête haute " afficherhud ; if (= $afficherhud 1) [guitext "(Activé)" 0] [guitext "(Désactivé)" 0]]
	guilist [guicheckbox "Affichage des dommages " afficherdommages ; if (= $afficherdommages 1) [guitext "(Activé)" 0] [guitext "(Désactivé)" 0]]
	guilist [guicheckbox "Affichage des pseudals "  afficherpseudals ; if (= $afficherpseudals 1) [guitext "(Activé)" 0] [guitext "(Désactivé)" 0]]
	guilist [guicheckbox "Affichage des règles " showrules ; if (= $showrules 1) [guitext "(Activé)" 0] [guitext "(Désactivé)" 0]]
	guilist [guicheckbox "Affichage des IPS " showfps ; if (= $showfps 1) [guitext "(Activé)" 0] [guitext "(Désactivé)" 0]]
] 0
