classes = [Soldier Soldier Medic American Ninja Vampire Mage Kamikaze Reaper Physicist]

newgui connect [
	if (= $connecteaujeu 1) [showgui mainmenu]
	guititle "CISLATTACK ALPHA v0.0.9"
	guibar
	if (= $erreurconnexion 1) [
		guitext "^f3The username you entered is incorrect."
		guibar
	]
	if (= $erreurconnexion 2) [
		guitext "^f3The password you entered is incorrect."
		guibar
	]
	if (= $erreurconnexion 3) [
		guitext "^f3You have not validated your email address yet"
		guibar
	]
	if (= $erreurconnexion 4) [
		guitext "^f3Your Account has been banned. Bye bye !"
		guibar
	]
	if (= $erreurconnexion 5) [
		guitext "^f3Could not connect to Cislattack."
		guitext "^f3Check your internet connection or try again."
		guibar
	]
	if (!= $erreurconnexion 5) [
		guilist [
			guitext "Username : "
			guistrut 1.4
			newname = (getname)
			guifield newname 15 [name $newname]
		]
		guilist [
			guitext "Password : "
			newpass = (getpass)
			guifield newpass 15 [password $newpass]
		]
	]
	guistrut 0.5
	guilist [
		if (!= $erreurconnexion 5) [
			guibutton "Log in" 		[seconnecter $newname $newpass]
			guibar
		]
		guibutton "Guest" 	[jeuinvitay]
		guibar
		guibutton "Quit"				[quit] "exit"
	]
] 0

newgui mainmenu [ 
		guititle (concatword "Welcome, " (at $getname $getname) " !")
		guibar
		guilist [
			guilist [
				guibutton (concat "Smiley :" (playermodelname)) [guirolloveraction = (playermodelbutton $playermodel); showgui playermodel] (playermodelicon)
				guibutton "Class" 			"showgui aptitudes"
				guibutton "Customization"	"showgui custom"
				guibutton "Succes"			"showgui succes"
				guibutton "Statistics"	"showgui stats"
				guistrut 0.5
				guibar
				guistrut 0.5
				guibutton "Multiplayer"  			[showgui serveurs]
				guibutton "Bot match"   			[showgui match]
				guibutton "Map editor"				[showgui menuedition ; mode 0]
				guibutton "About"		        	[showgui credits]
				guibutton "Options"  				[showgui options] "options"
				guibutton "Quit"        			[quit] "exit"			
			]
		guibar
			guilist [
				guilist [
					guistrut 0.4
					guilist [
						if (= $classe 1) [guiimage "packages/icons/soldat.jpg" "" 0 0]
						if (= $classe 2) [guiimage "packages/icons/medecin.jpg" "" 0 0]
						if (= $classe 3) [guiimage "packages/icons/americain.jpg" "" 0 0]
						if (= $classe 4) [guiimage "packages/icons/ninja.jpg" "" 0 0]
						if (= $classe 5) [guiimage "packages/icons/vampire.jpg" "" 0 0]
						if (= $classe 6) [guiimage "packages/icons/magicien.jpg" "" 0 0]
						if (= $classe 7) [guiimage "packages/icons/kamikaze.jpg" "" 0 0]
						if (= $classe 8) [guiimage "packages/icons/alchimiste.jpg" "" 0 0]
						if (= $classe 9) [guiimage "packages/icons/physicien.jpg" "" 0 0]
					]
					guilist [
						guitext (concatword (at $classes $classe))
						guitext (concatword "Level : " (at $niveaumenu))
					]
				]
				grade = (getgrade)
				guitext (concatword "Grade : " (at $grade))
				guitext (concatword "Cislacoins : " (at $cislacoinsmenu)) "cislacoin"
				guitext (concatword "Ratio : " (at $ratiomenu))
				guibar
				guiplayerpreview $playermodel 0 $vwep $guirolloveraction 4.5 0
			]
		]
	guibar
	guilist [
		guibutton "Website"    		[ouvrirsite]
		guibar
		guibutton "Wiki"    		[ouvrirwiki]
		guibar
		guibutton "Board"    		[ouvrirforum]
		guibar
		guibutton "Mumble"    		[ouvrirmumble]
	]
] 0

newgui mainmenuingame [
	guilist [
		if (|| $editing (m_edit (getmode))) [
			guilist [
				guititle "MAP EDITOR"
				guibar
				guibutton "Toolbox" 		"showgui Edition" "options"
				guistrut 1
				guilist [
					guitext   "Map name : "
					guifield  savemap_name 20
				]
				guibutton "Save map"             	"savemap $savemap_name"
				guibutton "Optimize geometry" 		"remip"
				guibutton "Compute lighting" 		"calclight 1"
				guibutton "Enlarge map (X2)"        "mapenlarge"
				guitext "Map title :"
				guifield  map_desc 30 [ maptitle $map_desc  ]
				guistrut 1
				guibutton "Download map" 	"getmap"
				guibutton "Send map" 		"sendmap"
			]
		] [
			guilist [
				guibutton (concat "Smiley :" (playermodelname)) [guirolloveraction = (playermodelbutton $playermodel); showgui playermodel] (playermodelicon)
				guibutton "Class" 			"showgui aptitudes"
				guibutton "Customization"	"showgui custom"
				guibutton "Succes"			"showgui succes"
				guibutton "Statistics"		"showgui stats"
			]
			guibar
			guilist [
				guilist [
					guistrut 0.4
					guilist [
						if (= $classe 1) [guiimage "packages/icons/soldat.jpg" "" 0 0]
						if (= $classe 2) [guiimage "packages/icons/medecin.jpg" "" 0 0]
						if (= $classe 3) [guiimage "packages/icons/americain.jpg" "" 0 0]
						if (= $classe 4) [guiimage "packages/icons/ninja.jpg" "" 0 0]
						if (= $classe 5) [guiimage "packages/icons/vampire.jpg" "" 0 0]
						if (= $classe 6) [guiimage "packages/icons/magicien.jpg" "" 0 0]
						if (= $classe 7) [guiimage "packages/icons/kamikaze.jpg" "" 0 0]
						if (= $classe 8) [guiimage "packages/icons/faucheuse.jpg" "" 0 0]
					]
					guilist [
					guitext (concatword (at $classes $classe))
						guitext (concatword "Level : " (at $niveaumenu))
					]
				]				
				guitext (concatword "Grade : " (at $grade))				
				guitext (concatword "Cislacoins : " (at $cislacoinsmenu)) "cislacoin"
				guitext (concatword "Ratio : " (at $ratiomenu))
				grade = (getgrade)
			]
		]
	]
	if (|| $editing (m_edit (getmode))) [
		guistrut 1
		guibutton "Quitter l'éditeur" 	[disconnect ; clearai] "exit"
	][
	guibar
		guibutton "Vote gamemode/map" 		[showgui vote]
		guibutton "Change team" 			[if (strcmp (getteam) "YOLO") [team SWAG] [team YOLO]]
		guibutton "Spectator" 				[nextfollow ; spectator (! (isspectator (getclientnum)))] "spectateur"
		guibutton "Suicide" 				[kill]
		guibutton "Options"  				[showgui options] "options"
		guibutton "Leave" 					[disconnect ; clearai] "exit"
	]
] 0
